var app=function(){"use strict";function t(){}function n(t){return t()}function e(){return Object.create(null)}function c(t){t.forEach(n)}function o(t){return"function"==typeof t}function l(t,n){return t!=t?n==n:t!==n||t&&"object"==typeof t||"function"==typeof t}let r,s;function a(t,n){return r||(r=document.createElement("a")),r.href=n,t===r.href}function i(t,n){t.appendChild(n)}function u(t,n,e){t.insertBefore(n,e||null)}function h(t){t.parentNode.removeChild(t)}function m(t){return document.createElement(t)}function f(t){return document.createTextNode(t)}function p(){return f(" ")}function $(){return f("")}function d(t,n,e,c){return t.addEventListener(n,e,c),()=>t.removeEventListener(n,e,c)}function v(t,n,e){null==e?t.removeAttribute(n):t.getAttribute(n)!==e&&t.setAttribute(n,e)}function g(t,n){n=""+n,t.wholeText!==n&&(t.data=n)}function D(t,n,e,c){null===e?t.style.removeProperty(n):t.style.setProperty(n,e,c?"important":"")}function I(t,n,e){t.classList[e?"add":"remove"](n)}function w(t){s=t}function y(t){(function(){if(!s)throw new Error("Function called outside component initialization");return s})().$$.on_mount.push(t)}const b=[],x=[],k=[],q=[],L=Promise.resolve();let _=!1;function M(t){k.push(t)}function C(t){q.push(t)}const E=new Set;let j=0;function T(){const t=s;do{for(;j<b.length;){const t=b[j];j++,w(t),N(t.$$)}for(w(null),b.length=0,j=0;x.length;)x.pop()();for(let t=0;t<k.length;t+=1){const n=k[t];E.has(n)||(E.add(n),n())}k.length=0}while(b.length);for(;q.length;)q.pop()();_=!1,E.clear(),w(t)}function N(t){if(null!==t.fragment){t.update(),c(t.before_update);const n=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,n),t.after_update.forEach(M)}}const B=new Set;let A;function O(){A={r:0,c:[],p:A}}function S(){A.r||c(A.c),A=A.p}function H(t,n){t&&t.i&&(B.delete(t),t.i(n))}function P(t,n,e,c){if(t&&t.o){if(B.has(t))return;B.add(t),A.c.push((()=>{B.delete(t),c&&(e&&t.d(1),c())})),t.o(n)}else c&&c()}function Y(t,n,e){const c=t.$$.props[n];void 0!==c&&(t.$$.bound[c]=e,e(t.$$.ctx[c]))}function z(t){t&&t.c()}function F(t,e,l,r){const{fragment:s,on_mount:a,on_destroy:i,after_update:u}=t.$$;s&&s.m(e,l),r||M((()=>{const e=a.map(n).filter(o);i?i.push(...e):c(e),t.$$.on_mount=[]})),u.forEach(M)}function R(t,n){const e=t.$$;null!==e.fragment&&(c(e.on_destroy),e.fragment&&e.fragment.d(n),e.on_destroy=e.fragment=null,e.ctx=[])}function V(t,n){-1===t.$$.dirty[0]&&(b.push(t),_||(_=!0,L.then(T)),t.$$.dirty.fill(0)),t.$$.dirty[n/31|0]|=1<<n%31}function W(n,o,l,r,a,i,u,m=[-1]){const f=s;w(n);const p=n.$$={fragment:null,ctx:null,props:i,update:t,not_equal:a,bound:e(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(o.context||(f?f.$$.context:[])),callbacks:e(),dirty:m,skip_bound:!1,root:o.target||f.$$.root};u&&u(p.root);let $=!1;if(p.ctx=l?l(n,o.props||{},((t,e,...c)=>{const o=c.length?c[0]:e;return p.ctx&&a(p.ctx[t],p.ctx[t]=o)&&(!p.skip_bound&&p.bound[t]&&p.bound[t](o),$&&V(n,t)),e})):[],p.update(),$=!0,c(p.before_update),p.fragment=!!r&&r(p.ctx),o.target){if(o.hydrate){const t=function(t){return Array.from(t.childNodes)}(o.target);p.fragment&&p.fragment.l(t),t.forEach(h)}else p.fragment&&p.fragment.c();o.intro&&H(n.$$.fragment),F(n,o.target,o.anchor,o.customElement),T()}w(f)}class G{$destroy(){R(this,1),this.$destroy=t}$on(t,n){const e=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return e.push(n),()=>{const t=e.indexOf(n);-1!==t&&e.splice(t,1)}}$set(t){var n;this.$$set&&(n=t,0!==Object.keys(n).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function J(t){let n,e,c,o,l,r,s,$=t[1].name+"";return{c(){n=m("channel"),e=m("img"),l=p(),r=m("name"),s=f($),v(e,"alt",c=t[1].name+"}"),a(e.src,o=t[1].vidID?`https://i3.ytimg.com/vi/${t[1].vidID}/maxresdefault.jpg`:"ytempty.svg")||v(e,"src",o),v(e,"class","svelte-1qkpr1u"),v(r,"class","svelte-1qkpr1u"),v(n,"class","svelte-1qkpr1u"),I(n,"winner",t[2])},m(t,c){u(t,n,c),i(n,e),i(n,l),i(n,r),i(r,s)},p(t,l){2&l&&c!==(c=t[1].name+"}")&&v(e,"alt",c),2&l&&!a(e.src,o=t[1].vidID?`https://i3.ytimg.com/vi/${t[1].vidID}/maxresdefault.jpg`:"ytempty.svg")&&v(e,"src",o),2&l&&$!==($=t[1].name+"")&&g(s,$),4&l&&I(n,"winner",t[2])},d(t){t&&h(n)}}}function K(t){let n,e,o,l,r,s,$,D,w,y,b,x,k,q,L=t[1].name+"";return{c(){n=m("channel"),e=m("img"),r=p(),s=m("name"),$=f(L),D=p(),w=m("a"),y=m("img"),v(e,"alt",o=t[1].name+"}"),a(e.src,l=t[1].vidID?`https://i3.ytimg.com/vi/${t[1].vidID}/maxresdefault.jpg`:"ytempty.svg")||v(e,"src",l),v(e,"class","svelte-1qkpr1u"),v(s,"class","svelte-1qkpr1u"),v(y,"class","logo svelte-1qkpr1u"),v(y,"alt","Youtube logo"),a(y.src,b="yt.svg")||v(y,"src","yt.svg"),v(w,"href",x=`https://www.youtube.com/watch?v=${t[1].vidID}`),v(w,"target","_blank"),v(n,"class","svelte-1qkpr1u"),I(n,"winner",t[2]),I(n,"focused",t[0])},m(c,o){u(c,n,o),i(n,e),i(n,r),i(n,s),i(s,$),i(s,D),i(n,w),i(w,y),k||(q=[d(e,"click",t[3]),d(s,"click",t[3])],k=!0)},p(t,c){2&c&&o!==(o=t[1].name+"}")&&v(e,"alt",o),2&c&&!a(e.src,l=t[1].vidID?`https://i3.ytimg.com/vi/${t[1].vidID}/maxresdefault.jpg`:"ytempty.svg")&&v(e,"src",l),2&c&&L!==(L=t[1].name+"")&&g($,L),2&c&&x!==(x=`https://www.youtube.com/watch?v=${t[1].vidID}`)&&v(w,"href",x),4&c&&I(n,"winner",t[2]),1&c&&I(n,"focused",t[0])},d(t){t&&h(n),k=!1,c(q)}}}function Q(n){let e;function c(t,n){return t[0]?K:J}let o=c(n),l=o(n);return{c(){l.c(),e=$()},m(t,n){l.m(t,n),u(t,e,n)},p(t,[n]){o===(o=c(t))&&l?l.p(t,n):(l.d(1),l=o(t),l&&(l.c(),l.m(e.parentNode,e)))},i:t,o:t,d(t){l.d(t),t&&h(e)}}}function U(t,n,e){let c,o,{controller:l}=n,{channels:r}=n,{matchID:s}=n,{matches:a}=n,{selector:i}=n,{focused:u=!1}=n;return t.$$set=t=>{"controller"in t&&e(5,l=t.controller),"channels"in t&&e(6,r=t.channels),"matchID"in t&&e(7,s=t.matchID),"matches"in t&&e(4,a=t.matches),"selector"in t&&e(8,i=t.selector),"focused"in t&&e(0,u=t.focused)},t.$$.update=()=>{464&t.$$.dirty&&(null===a[s][i]?e(1,c={name:"TBD"}):r[a[s][i]]?e(1,c=r[a[s][i]]):e(1,c={name:"BYE"})),400&t.$$.dirty&&e(2,o=a[s].winner===i)},[u,c,o,function(){if(null===a[s][0]||null===a[s][1])return;if(!l.reset(s))return;if(i===a[s].winner)return void e(4,a[s].winner=void 0,a);if(e(4,a[s].winner=i,a),0===s)return;let t=s%2,n=t?s-1:s-2;n/=2,e(4,a[n][t?0:1]=a[s][i],a),e(4,a[n].winner=void 0,a)},a,l,r,s,i]}class X extends G{constructor(t){super(),W(this,t,U,Q,l,{controller:5,channels:6,matchID:7,matches:4,selector:8,focused:0})}}function Z(n){let e,c,o,l,r,s,a,$,d,I,w,y,b,x,k=n[0][n[1]].poll[0]+"",q=n[0][n[1]].poll[1]+"";return{c(){e=m("pollFrame"),c=m("voteCommands"),c.innerHTML='<voteCommand class="channel1 svelte-1fq0coc">1</voteCommand> \n        <span class="vs svelte-1fq0coc">VS</span> \n        <voteCommand class="channel2 svelte-1fq0coc">2</voteCommand>',o=p(),l=m("results"),r=m("votes"),s=f(k),a=p(),$=m("span"),$.textContent="VOTES",d=p(),I=m("votes"),w=f(q),y=p(),b=m("pollBar"),x=m("resultBar"),v(c,"class","svelte-1fq0coc"),v(r,"class","channel1 svelte-1fq0coc"),v(I,"class","channel2 svelte-1fq0coc"),v(l,"class","svelte-1fq0coc"),D(x,"width",100*n[0][n[1]].poll[0]/(n[0][n[1]].poll[0]+n[0][n[1]].poll[1])+"%"),v(x,"class","svelte-1fq0coc"),v(b,"class","svelte-1fq0coc"),v(e,"class","svelte-1fq0coc")},m(t,n){u(t,e,n),i(e,c),i(e,o),i(e,l),i(l,r),i(r,s),i(l,a),i(l,$),i(l,d),i(l,I),i(I,w),i(e,y),i(e,b),i(b,x)},p(t,[n]){3&n&&k!==(k=t[0][t[1]].poll[0]+"")&&g(s,k),3&n&&q!==(q=t[0][t[1]].poll[1]+"")&&g(w,q),3&n&&D(x,"width",100*t[0][t[1]].poll[0]/(t[0][t[1]].poll[0]+t[0][t[1]].poll[1])+"%")},i:t,o:t,d(t){t&&h(e)}}}function tt(t,n,e){let c,o,{controller:l}=n,{matchID:r}=n,{channels:s}=n,{matches:a}=n;return c=new window.tmi.Client({channels:["stanz"]}),c.connect().then((()=>console.log("CONNECTED"))),o=async(t,n,c,o)=>{"1"===c?e(0,a[r].poll[0]++,a):"2"===c&&e(0,a[r].poll[1]++,a),console.log(c)},c.on("message",o),t.$$set=t=>{"controller"in t&&e(2,l=t.controller),"matchID"in t&&e(1,r=t.matchID),"channels"in t&&e(3,s=t.channels),"matches"in t&&e(0,a=t.matches)},[a,r,l,s]}class nt extends G{constructor(t){super(),W(this,t,tt,Z,l,{controller:2,matchID:1,channels:3,matches:0})}}function et(t){let n,e,o,l,r,s,a,i,f,$,g,D,I,w,y,b;function k(n){t[5](n)}let q={focused:!0,controller:t[0],channels:t[3],matchID:t[2],selector:1};function L(n){t[6](n)}function _(n){t[7](n)}void 0!==t[1]&&(q.matches=t[1]),o=new X({props:q}),x.push((()=>Y(o,"matches",k)));let M={matchID:t[2],channels:t[3]};function E(n){t[8](n)}void 0!==t[0]&&(M.controller=t[0]),void 0!==t[1]&&(M.matches=t[1]),s=new nt({props:M}),x.push((()=>Y(s,"controller",L))),x.push((()=>Y(s,"matches",_)));let j={focused:!0,controller:t[0],channels:t[3],matchID:t[2],selector:0};return void 0!==t[1]&&(j.matches=t[1]),$=new X({props:j}),x.push((()=>Y($,"matches",E))),{c(){n=m("nav"),n.textContent="←",e=p(),z(o.$$.fragment),r=p(),z(s.$$.fragment),f=p(),z($.$$.fragment),D=p(),I=m("nav"),I.textContent="→",v(n,"class","svelte-1ajga2d"),v(I,"class","svelte-1ajga2d")},m(c,l){u(c,n,l),u(c,e,l),F(o,c,l),u(c,r,l),F(s,c,l),u(c,f,l),F($,c,l),u(c,D,l),u(c,I,l),w=!0,y||(b=[d(n,"click",t[4]),d(I,"click",t[9])],y=!0)},p(t,n){const e={};1&n&&(e.controller=t[0]),8&n&&(e.channels=t[3]),4&n&&(e.matchID=t[2]),!l&&2&n&&(l=!0,e.matches=t[1],C((()=>l=!1))),o.$set(e);const c={};4&n&&(c.matchID=t[2]),8&n&&(c.channels=t[3]),!a&&1&n&&(a=!0,c.controller=t[0],C((()=>a=!1))),!i&&2&n&&(i=!0,c.matches=t[1],C((()=>i=!1))),s.$set(c);const r={};1&n&&(r.controller=t[0]),8&n&&(r.channels=t[3]),4&n&&(r.matchID=t[2]),!g&&2&n&&(g=!0,r.matches=t[1],C((()=>g=!1))),$.$set(r)},i(t){w||(H(o.$$.fragment,t),H(s.$$.fragment,t),H($.$$.fragment,t),w=!0)},o(t){P(o.$$.fragment,t),P(s.$$.fragment,t),P($.$$.fragment,t),w=!1},d(t){t&&h(n),t&&h(e),R(o,t),t&&h(r),R(s,t),t&&h(f),R($,t),t&&h(D),t&&h(I),y=!1,c(b)}}}function ct(t){let n,e,c=t[1]&&et(t);return{c(){n=m("match"),c&&c.c(),v(n,"class","svelte-1ajga2d")},m(t,o){u(t,n,o),c&&c.m(n,null),e=!0},p(t,[e]){t[1]?c?(c.p(t,e),2&e&&H(c,1)):(c=et(t),c.c(),H(c,1),c.m(n,null)):c&&(O(),P(c,1,1,(()=>{c=null})),S())},i(t){e||(H(c),e=!0)},o(t){P(c),e=!1},d(t){t&&h(n),c&&c.d()}}}function ot(t,n,e){let{matchID:c}=n,{controller:o}=n,{channels:l}=n,{matches:r}=n;return t.$$set=t=>{"matchID"in t&&e(2,c=t.matchID),"controller"in t&&e(0,o=t.controller),"channels"in t&&e(3,l=t.channels),"matches"in t&&e(1,r=t.matches)},[o,r,c,l,()=>o.focusMatch(c+1),function(t){r=t,e(1,r)},function(t){o=t,e(0,o)},function(t){r=t,e(1,r)},function(t){r=t,e(1,r)},()=>o.focusMatch(c-1)]}class lt extends G{constructor(t){super(),W(this,t,ot,ct,l,{matchID:2,controller:0,channels:3,matches:1})}}function rt(t){let n,e,c,o,l,r,s,a,f,$,d,g,D,I,w,y,b,k,q;function L(n){t[14](n)}function _(n){t[15](n)}let M={channels:t[2],matchID:t[3],selector:1};function E(n){t[16](n)}function j(n){t[17](n)}void 0!==t[0]&&(M.controller=t[0]),void 0!==t[1]&&(M.matches=t[1]),l=new X({props:M}),x.push((()=>Y(l,"controller",L))),x.push((()=>Y(l,"matches",_)));let T={channels:t[2],matchID:t[3],selector:0};return void 0!==t[0]&&(T.controller=t[0]),void 0!==t[1]&&(T.matches=t[1]),I=new X({props:T}),x.push((()=>Y(I,"controller",E))),x.push((()=>Y(I,"matches",j))),{c(){n=m("finalMatch"),e=m("finalChannel"),c=m("verticalLine"),o=p(),z(l.$$.fragment),a=p(),f=m("verticalLine"),$=p(),d=m("finalChannel"),g=m("verticalLine"),D=p(),z(I.$$.fragment),b=p(),k=m("verticalLine"),v(c,"class","final svelte-2gr2t9"),v(f,"class","final placeholder svelte-2gr2t9"),v(e,"class","svelte-2gr2t9"),v(g,"class","final placeholder svelte-2gr2t9"),v(k,"class","final svelte-2gr2t9"),v(d,"class","svelte-2gr2t9"),v(n,"class","svelte-2gr2t9")},m(t,r){u(t,n,r),i(n,e),i(e,c),i(e,o),F(l,e,null),i(e,a),i(e,f),i(n,$),i(n,d),i(d,g),i(d,D),F(I,d,null),i(d,b),i(d,k),q=!0},p(t,n){const e={};4&n&&(e.channels=t[2]),8&n&&(e.matchID=t[3]),!r&&1&n&&(r=!0,e.controller=t[0],C((()=>r=!1))),!s&&2&n&&(s=!0,e.matches=t[1],C((()=>s=!1))),l.$set(e);const c={};4&n&&(c.channels=t[2]),8&n&&(c.matchID=t[3]),!w&&1&n&&(w=!0,c.controller=t[0],C((()=>w=!1))),!y&&2&n&&(y=!0,c.matches=t[1],C((()=>y=!1))),I.$set(c)},i(t){q||(H(l.$$.fragment,t),H(I.$$.fragment,t),q=!0)},o(t){P(l.$$.fragment,t),P(I.$$.fragment,t),q=!1},d(t){t&&h(n),R(l),R(I)}}}function st(t){let n,e,c,o,l,r,s,a,f,$,d,g,D=!t[5]&&it();function w(n){t[10](n)}function y(n){t[11](n)}let b={channels:t[2],matchID:t[3],selector:1};function k(n){t[12](n)}function q(n){t[13](n)}void 0!==t[0]&&(b.controller=t[0]),void 0!==t[1]&&(b.matches=t[1]),c=new X({props:b}),x.push((()=>Y(c,"controller",w))),x.push((()=>Y(c,"matches",y)));let L={channels:t[2],matchID:t[3],selector:0};return void 0!==t[0]&&(L.controller=t[0]),void 0!==t[1]&&(L.matches=t[1]),s=new X({props:L}),x.push((()=>Y(s,"controller",k))),x.push((()=>Y(s,"matches",q))),{c(){D&&D.c(),n=p(),e=m("channels"),z(c.$$.fragment),r=p(),z(s.$$.fragment),$=p(),d=m("bracketLine"),v(e,"class","left svelte-2gr2t9"),I(e,"leaf",t[5]),v(d,"class","left svelte-2gr2t9")},m(t,o){D&&D.m(t,o),u(t,n,o),u(t,e,o),F(c,e,null),i(e,r),F(s,e,null),u(t,$,o),u(t,d,o),g=!0},p(t,r){t[5]?D&&(D.d(1),D=null):D||(D=it(),D.c(),D.m(n.parentNode,n));const i={};4&r&&(i.channels=t[2]),8&r&&(i.matchID=t[3]),!o&&1&r&&(o=!0,i.controller=t[0],C((()=>o=!1))),!l&&2&r&&(l=!0,i.matches=t[1],C((()=>l=!1))),c.$set(i);const u={};4&r&&(u.channels=t[2]),8&r&&(u.matchID=t[3]),!a&&1&r&&(a=!0,u.controller=t[0],C((()=>a=!1))),!f&&2&r&&(f=!0,u.matches=t[1],C((()=>f=!1))),s.$set(u),(!g||32&r)&&I(e,"leaf",t[5])},i(t){g||(H(c.$$.fragment,t),H(s.$$.fragment,t),g=!0)},o(t){P(c.$$.fragment,t),P(s.$$.fragment,t),g=!1},d(t){D&&D.d(t),t&&h(n),t&&h(e),R(c),R(s),t&&h($),t&&h(d)}}}function at(t){let n,e,c,o,l,r,s,a,f,d,g,D,w;function y(n){t[6](n)}function b(n){t[7](n)}let k={channels:t[2],matchID:t[3],selector:1};function q(n){t[8](n)}function L(n){t[9](n)}void 0!==t[0]&&(k.controller=t[0]),void 0!==t[1]&&(k.matches=t[1]),o=new X({props:k}),x.push((()=>Y(o,"controller",y))),x.push((()=>Y(o,"matches",b)));let _={channels:t[2],matchID:t[3],selector:0};void 0!==t[0]&&(_.controller=t[0]),void 0!==t[1]&&(_.matches=t[1]),a=new X({props:_}),x.push((()=>Y(a,"controller",q))),x.push((()=>Y(a,"matches",L)));let M=!t[5]&&ut();return{c(){n=m("bracketLine"),e=p(),c=m("channels"),z(o.$$.fragment),s=p(),z(a.$$.fragment),g=p(),M&&M.c(),D=$(),v(n,"class","right svelte-2gr2t9"),v(c,"class","right svelte-2gr2t9"),I(c,"leaf",t[5])},m(t,l){u(t,n,l),u(t,e,l),u(t,c,l),F(o,c,null),i(c,s),F(a,c,null),u(t,g,l),M&&M.m(t,l),u(t,D,l),w=!0},p(t,n){const e={};4&n&&(e.channels=t[2]),8&n&&(e.matchID=t[3]),!l&&1&n&&(l=!0,e.controller=t[0],C((()=>l=!1))),!r&&2&n&&(r=!0,e.matches=t[1],C((()=>r=!1))),o.$set(e);const s={};4&n&&(s.channels=t[2]),8&n&&(s.matchID=t[3]),!f&&1&n&&(f=!0,s.controller=t[0],C((()=>f=!1))),!d&&2&n&&(d=!0,s.matches=t[1],C((()=>d=!1))),a.$set(s),(!w||32&n)&&I(c,"leaf",t[5]),t[5]?M&&(M.d(1),M=null):M||(M=ut(),M.c(),M.m(D.parentNode,D))},i(t){w||(H(o.$$.fragment,t),H(a.$$.fragment,t),w=!0)},o(t){P(o.$$.fragment,t),P(a.$$.fragment,t),w=!1},d(t){t&&h(n),t&&h(e),t&&h(c),R(o),R(a),t&&h(g),M&&M.d(t),t&&h(D)}}}function it(t){let n;return{c(){n=m("lines"),n.innerHTML='<verticalLine class="svelte-2gr2t9"></verticalLine> \n                <verticalLine class="svelte-2gr2t9"></verticalLine>',v(n,"class","svelte-2gr2t9")},m(t,e){u(t,n,e)},d(t){t&&h(n)}}}function ut(t){let n;return{c(){n=m("lines"),n.innerHTML='<verticalLine class="svelte-2gr2t9"></verticalLine> \n                <verticalLine class="svelte-2gr2t9"></verticalLine>',v(n,"class","svelte-2gr2t9")},m(t,e){u(t,n,e)},d(t){t&&h(n)}}}function ht(t){let n,e,c,o,l,r;const s=[at,st,rt],a=[];function i(t,n){return"right"===t[4]?0:"left"===t[4]?1:2}return e=i(t),c=a[e]=s[e](t),{c(){n=m("match"),c.c(),v(n,"class","svelte-2gr2t9")},m(c,s){u(c,n,s),a[e].m(n,null),o=!0,l||(r=d(n,"click",t[18]),l=!0)},p(t,[o]){let l=e;e=i(t),e===l?a[e].p(t,o):(O(),P(a[l],1,1,(()=>{a[l]=null})),S(),c=a[e],c?c.p(t,o):(c=a[e]=s[e](t),c.c()),H(c,1),c.m(n,null))},i(t){o||(H(c),o=!0)},o(t){P(c),o=!1},d(t){t&&h(n),a[e].d(),l=!1,r()}}}function mt(t,n,e){let{controller:c}=n,{channels:o}=n,{matches:l}=n,{matchID:r}=n,{orientation:s}=n,{leaf:a=!1}=n;return t.$$set=t=>{"controller"in t&&e(0,c=t.controller),"channels"in t&&e(2,o=t.channels),"matches"in t&&e(1,l=t.matches),"matchID"in t&&e(3,r=t.matchID),"orientation"in t&&e(4,s=t.orientation),"leaf"in t&&e(5,a=t.leaf)},[c,l,o,r,s,a,function(t){c=t,e(0,c)},function(t){l=t,e(1,l)},function(t){c=t,e(0,c)},function(t){l=t,e(1,l)},function(t){c=t,e(0,c)},function(t){l=t,e(1,l)},function(t){c=t,e(0,c)},function(t){l=t,e(1,l)},function(t){c=t,e(0,c)},function(t){l=t,e(1,l)},function(t){c=t,e(0,c)},function(t){l=t,e(1,l)},()=>c.focusMatch(r)]}class ft extends G{constructor(t){super(),W(this,t,mt,ht,l,{controller:0,channels:2,matches:1,matchID:3,orientation:4,leaf:5})}}function pt(t){let n,e,c,o,l;function r(n){t[25](n)}function s(n){t[26](n)}let a={leaf:!0,orientation:t[6],channels:t[4],matchID:t[3]};return void 0!==t[0]&&(a.controller=t[0]),void 0!==t[1]&&(a.matches=t[1]),e=new ft({props:a}),x.push((()=>Y(e,"controller",r))),x.push((()=>Y(e,"matches",s))),{c(){n=m("current"),z(e.$$.fragment)},m(t,c){u(t,n,c),F(e,n,null),l=!0},p(t,n){const l={};64&n&&(l.orientation=t[6]),16&n&&(l.channels=t[4]),8&n&&(l.matchID=t[3]),!c&&1&n&&(c=!0,l.controller=t[0],C((()=>c=!1))),!o&&2&n&&(o=!0,l.matches=t[1],C((()=>o=!1))),e.$set(l)},i(t){l||(H(e.$$.fragment,t),l=!0)},o(t){P(e.$$.fragment,t),l=!1},d(t){t&&h(n),R(e)}}}function $t(t){let n,e,c,o;const l=[gt,vt],r=[];function s(t,n){return"right"===t[6]?0:1}return n=s(t),e=r[n]=l[n](t),{c(){e.c(),c=$()},m(t,e){r[n].m(t,e),u(t,c,e),o=!0},p(t,o){let a=n;n=s(t),n===a?r[n].p(t,o):(O(),P(r[a],1,1,(()=>{r[a]=null})),S(),e=r[n],e?e.p(t,o):(e=r[n]=l[n](t),e.c()),H(e,1),e.m(c.parentNode,c))},i(t){o||(H(e),o=!0)},o(t){P(e),o=!1},d(t){r[n].d(t),t&&h(c)}}}function dt(t){let n,e,c,o,l,r,s,a,i,f,$,d,v,g,D;function I(n){t[7](n)}function w(n){t[8](n)}let y={orientation:"left",level:t[2]-1,channels:t[4],matchID:2*t[3]+2};function b(n){t[9](n)}function k(n){t[10](n)}void 0!==t[0]&&(y.controller=t[0]),void 0!==t[1]&&(y.matches=t[1]),e=new wt({props:y}),x.push((()=>Y(e,"controller",I))),x.push((()=>Y(e,"matches",w)));let q={channels:t[4],matchID:t[3]};function L(n){t[11](n)}function _(n){t[12](n)}void 0!==t[0]&&(q.controller=t[0]),void 0!==t[1]&&(q.matches=t[1]),s=new ft({props:q}),x.push((()=>Y(s,"controller",b))),x.push((()=>Y(s,"matches",k)));let M={orientation:"right",level:t[2]-1,channels:t[4],matchID:2*t[3]+1};return void 0!==t[0]&&(M.controller=t[0]),void 0!==t[1]&&(M.matches=t[1]),d=new wt({props:M}),x.push((()=>Y(d,"controller",L))),x.push((()=>Y(d,"matches",_))),{c(){n=m("leftbracket"),z(e.$$.fragment),l=p(),r=m("final"),z(s.$$.fragment),f=p(),$=m("rightbracket"),z(d.$$.fragment)},m(t,c){u(t,n,c),F(e,n,null),u(t,l,c),u(t,r,c),F(s,r,null),u(t,f,c),u(t,$,c),F(d,$,null),D=!0},p(t,n){const l={};4&n&&(l.level=t[2]-1),16&n&&(l.channels=t[4]),8&n&&(l.matchID=2*t[3]+2),!c&&1&n&&(c=!0,l.controller=t[0],C((()=>c=!1))),!o&&2&n&&(o=!0,l.matches=t[1],C((()=>o=!1))),e.$set(l);const r={};16&n&&(r.channels=t[4]),8&n&&(r.matchID=t[3]),!a&&1&n&&(a=!0,r.controller=t[0],C((()=>a=!1))),!i&&2&n&&(i=!0,r.matches=t[1],C((()=>i=!1))),s.$set(r);const u={};4&n&&(u.level=t[2]-1),16&n&&(u.channels=t[4]),8&n&&(u.matchID=2*t[3]+1),!v&&1&n&&(v=!0,u.controller=t[0],C((()=>v=!1))),!g&&2&n&&(g=!0,u.matches=t[1],C((()=>g=!1))),d.$set(u)},i(t){D||(H(e.$$.fragment,t),H(s.$$.fragment,t),H(d.$$.fragment,t),D=!0)},o(t){P(e.$$.fragment,t),P(s.$$.fragment,t),P(d.$$.fragment,t),D=!1},d(t){t&&h(n),R(e),t&&h(l),t&&h(r),R(s),t&&h(f),t&&h($),R(d)}}}function vt(t){let n,e,c,o,l,r,s,a,f,$,d,v,g,D;function I(n){t[19](n)}function w(n){t[20](n)}let y={level:t[2]-1,channels:t[4],matchID:2*t[3]+2};function b(n){t[21](n)}function k(n){t[22](n)}void 0!==t[0]&&(y.controller=t[0]),void 0!==t[1]&&(y.matches=t[1]),e=new wt({props:y}),x.push((()=>Y(e,"controller",I))),x.push((()=>Y(e,"matches",w)));let q={level:t[2]-1,channels:t[4],matchID:2*t[3]+1};function L(n){t[23](n)}function _(n){t[24](n)}void 0!==t[0]&&(q.controller=t[0]),void 0!==t[1]&&(q.matches=t[1]),r=new wt({props:q}),x.push((()=>Y(r,"controller",b))),x.push((()=>Y(r,"matches",k)));let M={orientation:t[6],channels:t[4],matchID:t[3]};return void 0!==t[0]&&(M.controller=t[0]),void 0!==t[1]&&(M.matches=t[1]),d=new ft({props:M}),x.push((()=>Y(d,"controller",L))),x.push((()=>Y(d,"matches",_))),{c(){n=m("previous"),z(e.$$.fragment),l=p(),z(r.$$.fragment),f=p(),$=m("current"),z(d.$$.fragment)},m(t,c){u(t,n,c),F(e,n,null),i(n,l),F(r,n,null),u(t,f,c),u(t,$,c),F(d,$,null),D=!0},p(t,n){const l={};4&n&&(l.level=t[2]-1),16&n&&(l.channels=t[4]),8&n&&(l.matchID=2*t[3]+2),!c&&1&n&&(c=!0,l.controller=t[0],C((()=>c=!1))),!o&&2&n&&(o=!0,l.matches=t[1],C((()=>o=!1))),e.$set(l);const i={};4&n&&(i.level=t[2]-1),16&n&&(i.channels=t[4]),8&n&&(i.matchID=2*t[3]+1),!s&&1&n&&(s=!0,i.controller=t[0],C((()=>s=!1))),!a&&2&n&&(a=!0,i.matches=t[1],C((()=>a=!1))),r.$set(i);const u={};64&n&&(u.orientation=t[6]),16&n&&(u.channels=t[4]),8&n&&(u.matchID=t[3]),!v&&1&n&&(v=!0,u.controller=t[0],C((()=>v=!1))),!g&&2&n&&(g=!0,u.matches=t[1],C((()=>g=!1))),d.$set(u)},i(t){D||(H(e.$$.fragment,t),H(r.$$.fragment,t),H(d.$$.fragment,t),D=!0)},o(t){P(e.$$.fragment,t),P(r.$$.fragment,t),P(d.$$.fragment,t),D=!1},d(t){t&&h(n),R(e),R(r),t&&h(f),t&&h($),R(d)}}}function gt(t){let n,e,c,o,l,r,s,a,f,$,d,v,g,D;function I(n){t[13](n)}function w(n){t[14](n)}let y={orientation:t[6],channels:t[4],matchID:t[3]};function b(n){t[15](n)}function k(n){t[16](n)}void 0!==t[0]&&(y.controller=t[0]),void 0!==t[1]&&(y.matches=t[1]),e=new ft({props:y}),x.push((()=>Y(e,"controller",I))),x.push((()=>Y(e,"matches",w)));let q={orientation:"right",level:t[2]-1,channels:t[4],matchID:2*t[3]+2};function L(n){t[17](n)}function _(n){t[18](n)}void 0!==t[0]&&(q.controller=t[0]),void 0!==t[1]&&(q.matches=t[1]),s=new wt({props:q}),x.push((()=>Y(s,"controller",b))),x.push((()=>Y(s,"matches",k)));let M={orientation:"right",level:t[2]-1,channels:t[4],matchID:2*t[3]+1};return void 0!==t[0]&&(M.controller=t[0]),void 0!==t[1]&&(M.matches=t[1]),d=new wt({props:M}),x.push((()=>Y(d,"controller",L))),x.push((()=>Y(d,"matches",_))),{c(){n=m("current"),z(e.$$.fragment),l=p(),r=m("previous"),z(s.$$.fragment),$=p(),z(d.$$.fragment)},m(t,c){u(t,n,c),F(e,n,null),u(t,l,c),u(t,r,c),F(s,r,null),i(r,$),F(d,r,null),D=!0},p(t,n){const l={};64&n&&(l.orientation=t[6]),16&n&&(l.channels=t[4]),8&n&&(l.matchID=t[3]),!c&&1&n&&(c=!0,l.controller=t[0],C((()=>c=!1))),!o&&2&n&&(o=!0,l.matches=t[1],C((()=>o=!1))),e.$set(l);const r={};4&n&&(r.level=t[2]-1),16&n&&(r.channels=t[4]),8&n&&(r.matchID=2*t[3]+2),!a&&1&n&&(a=!0,r.controller=t[0],C((()=>a=!1))),!f&&2&n&&(f=!0,r.matches=t[1],C((()=>f=!1))),s.$set(r);const i={};4&n&&(i.level=t[2]-1),16&n&&(i.channels=t[4]),8&n&&(i.matchID=2*t[3]+1),!v&&1&n&&(v=!0,i.controller=t[0],C((()=>v=!1))),!g&&2&n&&(g=!0,i.matches=t[1],C((()=>g=!1))),d.$set(i)},i(t){D||(H(e.$$.fragment,t),H(s.$$.fragment,t),H(d.$$.fragment,t),D=!0)},o(t){P(e.$$.fragment,t),P(s.$$.fragment,t),P(d.$$.fragment,t),D=!1},d(t){t&&h(n),R(e),t&&h(l),t&&h(r),R(s),R(d)}}}function Dt(t){let n,e,c,o;const l=[dt,$t,pt],r=[];function s(t,n){return t[5]?0:0!==t[2]?1:2}return e=s(t),c=r[e]=l[e](t),{c(){n=m("bracket"),c.c(),v(n,"class","svelte-1mdputj")},m(t,c){u(t,n,c),r[e].m(n,null),o=!0},p(t,[o]){let a=e;e=s(t),e===a?r[e].p(t,o):(O(),P(r[a],1,1,(()=>{r[a]=null})),S(),c=r[e],c?c.p(t,o):(c=r[e]=l[e](t),c.c()),H(c,1),c.m(n,null))},i(t){o||(H(c),o=!0)},o(t){P(c),o=!1},d(t){t&&h(n),r[e].d()}}}function It(t,n,e){let{controller:c}=n,{level:o=0}=n,{matchID:l=0}=n,{channels:r}=n,{matches:s}=n,{final:a=!1}=n,{orientation:i="left"}=n;return t.$$set=t=>{"controller"in t&&e(0,c=t.controller),"level"in t&&e(2,o=t.level),"matchID"in t&&e(3,l=t.matchID),"channels"in t&&e(4,r=t.channels),"matches"in t&&e(1,s=t.matches),"final"in t&&e(5,a=t.final),"orientation"in t&&e(6,i=t.orientation)},[c,s,o,l,r,a,i,function(t){c=t,e(0,c)},function(t){s=t,e(1,s)},function(t){c=t,e(0,c)},function(t){s=t,e(1,s)},function(t){c=t,e(0,c)},function(t){s=t,e(1,s)},function(t){c=t,e(0,c)},function(t){s=t,e(1,s)},function(t){c=t,e(0,c)},function(t){s=t,e(1,s)},function(t){c=t,e(0,c)},function(t){s=t,e(1,s)},function(t){c=t,e(0,c)},function(t){s=t,e(1,s)},function(t){c=t,e(0,c)},function(t){s=t,e(1,s)},function(t){c=t,e(0,c)},function(t){s=t,e(1,s)},function(t){c=t,e(0,c)},function(t){s=t,e(1,s)}]}class wt extends G{constructor(t){super(),W(this,t,It,Dt,l,{controller:0,level:2,matchID:3,channels:4,matches:1,final:5,orientation:6})}}function yt(n){let e;return{c(){e=f("Loading...")},m(t,n){u(t,e,n)},p:t,i:t,o:t,d(t){t&&h(e)}}}function bt(t){let n,e,c,o;function l(n){t[7](n)}function r(n){t[8](n)}let s={final:!0,level:t[1]-1,channels:t[0]};return void 0!==t[4]&&(s.controller=t[4]),void 0!==t[2]&&(s.matches=t[2]),n=new wt({props:s}),x.push((()=>Y(n,"controller",l))),x.push((()=>Y(n,"matches",r))),{c(){z(n.$$.fragment)},m(t,e){F(n,t,e),o=!0},p(t,o){const l={};2&o&&(l.level=t[1]-1),1&o&&(l.channels=t[0]),!e&&16&o&&(e=!0,l.controller=t[4],C((()=>e=!1))),!c&&4&o&&(c=!0,l.matches=t[2],C((()=>c=!1))),n.$set(l)},i(t){o||(H(n.$$.fragment,t),o=!0)},o(t){P(n.$$.fragment,t),o=!1},d(t){R(n,t)}}}function xt(t){let n,e,c,o,l,r,s,a,f,$,d,g;function D(n){t[5](n)}function I(n){t[6](n)}let w={matchID:t[3],channels:t[0]};void 0!==t[4]&&(w.controller=t[4]),void 0!==t[2]&&(w.matches=t[2]),r=new lt({props:w}),x.push((()=>Y(r,"controller",D))),x.push((()=>Y(r,"matches",I)));const y=[bt,yt],b=[];function k(t,n){return t[2]?0:1}return $=k(t),d=b[$]=y[$](t),{c(){n=m("main"),e=m("bracketTitle"),e.textContent="Who is the best Youtuber?",c=p(),o=m("bracketDescription"),o.innerHTML='Type <span class="channel1">&quot;1&quot;</span> or <span class="channel2">&quot;2&quot;</span> in chat, to vote for the current matchup.',l=p(),z(r.$$.fragment),f=p(),d.c(),v(e,"class","svelte-19oc7mr"),v(o,"class","svelte-19oc7mr"),v(n,"class","svelte-19oc7mr")},m(t,s){u(t,n,s),i(n,e),i(n,c),i(n,o),i(n,l),F(r,n,null),i(n,f),b[$].m(n,null),g=!0},p(t,[e]){const c={};8&e&&(c.matchID=t[3]),1&e&&(c.channels=t[0]),!s&&16&e&&(s=!0,c.controller=t[4],C((()=>s=!1))),!a&&4&e&&(a=!0,c.matches=t[2],C((()=>a=!1))),r.$set(c);let o=$;$=k(t),$===o?b[$].p(t,e):(O(),P(b[o],1,1,(()=>{b[o]=null})),S(),d=b[$],d?d.p(t,e):(d=b[$]=y[$](t),d.c()),H(d,1),d.m(n,null))},i(t){g||(H(r.$$.fragment,t),H(d),g=!0)},o(t){P(r.$$.fragment,t),P(d),g=!1},d(t){t&&h(n),R(r),b[$].d()}}}function kt(t,n){return t<=n?t:null}function qt(t,n,e){const c=()=>structuredClone({0:null,1:null,winner:void 0,poll:[0,0]});let o,l,r,s;y((async()=>{const t=await fetch("./channels.json").then((t=>t.json()));e(0,o=await t.channels),console.log(o),e(1,l=Math.ceil(Math.log2(o.length))),e(3,s=2**l-2),e(2,r=function(){let t=function(t){var n=t.length,e=Math.ceil(Math.log(n)/Math.log(2)),c=Math.pow(2,e),o=c-n;if(console.log(`Number of participants: ${n}`),console.log(`Number of rounds: ${e}`),console.log(`Bracket size: ${c}`),console.log(`Required number of byes: ${o}`),n<2)return[];for(var l=[[1,2]],r=1;r<e;r++){for(var s=[],a=Math.pow(2,r+1)+1,i=0;i<l.length;i++){var u=kt(l[i][0],n),h=kt(a-l[i][0],n);s.push([u,h]),u=kt(a-l[i][1],n),h=kt(l[i][1],n),s.push([u,h])}l=s}return l}(Array.from({length:o.length},((t,n)=>n+1))),n=[];for(let t=0;t<2**(l-1)-1;t++)n[t]=c();for(let e=0;e<t.length;e++)n[2**(l-1)-1+(t.length-1-e)]={0:t[e][1]-1,1:t[e][0]-1,winner:void 0,poll:[0,0]};return n}()),console.log(r)}));let a={reset:t=>{console.log("RESET",t);let n=!1,c=t;for(;0!==c;){let t=c%2?0:1;if(c=t?(c-2)/2:(c-1)/2,!n&&void 0!==r[c].winner&&(n=confirm("You are about to reset the selected and all dependent matches. Proceed?"),!n))return!1;n&&(e(2,r[c][t]=null,r),e(2,r[c].winner=void 0,r),e(2,r[c].poll=[0,0],r))}return!0},focusMatch:t=>{e(3,s=Math.min(Math.max(0,t),r.length-1))}};return[o,l,r,s,a,function(t){a=t,e(4,a)},function(t){r=t,e(2,r)},function(t){a=t,e(4,a)},function(t){r=t,e(2,r)}]}return new class extends G{constructor(t){super(),W(this,t,qt,xt,l,{})}}({target:document.body,props:{}})}();
//# sourceMappingURL=bundle.js.map
